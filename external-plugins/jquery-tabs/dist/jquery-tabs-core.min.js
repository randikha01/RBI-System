/*! jQuery tabs - v0.3.0 - 2014-01-20
* https://github.com/amazingSurge/jquery-tabs
* Copyright (c) 2014 amazingSurge; Licensed GPL */
(function(t,e,n,s){"use strict";var i=n.Tabs=function(t,e){var s=this;this.element=t,this.$element=n(t);var a=[];n.each(this.$element.data(),function(t,e){var n=RegExp("^tabs","i");n.test(t)&&(a[t.toLowerCase().replace(n,"")]=e)}),this.options=n.extend(!0,{},i.defaults,e,a),this.namespace=this.options.namespace,this.initialized=!1,this.classes={activeTab:this.namespace+"_active",activePane:this.namespace+"_active",panes_wrap:this.namespace+"-panes",skin:this.namespace+"_"+this.options.skin},this.$tabs=this.$element.children(),this.$panes_wrap=n(this.options.panes_wrap).addClass(this.classes.panes_wrap),this.$panes=this.$panes_wrap.children(),this.size=this.$tabs.length,this.options.skin&&(this.$element.addClass(this.classes.skin),this.$panes_wrap.addClass(this.classes.skin)),this.$loading=n('<span class="'+this.namespace+'-loading"></span>'),this.options.ajax===!0&&(this.ajax=[],n.each(this.$tabs,function(t,e){var i={};i.href=n(e).data("href"),s.ajax.push(i)})),this.init()};i.defaults={namespace:"tabs",panes_wrap:".panes_wrap",skin:null,initialIndex:0,ajax:!1,cached:!1,history:!1,keyboard:!1,effect:!1,event:"click"},i.prototype={constructor:i,init:function(){var t=this;this.$element.on(this.options.event,"> *",function(e){var s=n(e.target).index();return t.active(s),t.afterActive(),!1}),this.$element.trigger("tabs::init",this),this.active(this.options.initialIndex),this.initialized=!0,this.$element.trigger("tabs::ready",this)},active:function(t){this.current!==t&&(this.last=this.current,this.current=t,this.$tabs.eq(t).addClass(this.classes.activeTab).siblings().removeClass(this.classes.activeTab),this.$panes.eq(t).addClass(this.classes.activePane).siblings().removeClass(this.classes.activePane),this.$element.trigger("tabs::active",this),"function"===n.type(this.options.onActive)&&this.options.onActive(this),this.options.ajax===!0&&this.ajaxLoad(t))},afterActive:function(){this.$element.trigger("tabs::afterActive",this),"function"===n.type(this.options.onAfterActive)&&this.options.onAfterActive(this)},ajaxLoad:function(t){var e,s=this;(this.options.cached!==!0||this.ajax[t].cached!==!0)&&(this.showLoading(),e=n.ajax({url:this.ajax[t].href}),e.done(function(e){s.ajax[t].cached=!0,s.hideLoading(),s.$panes.eq(t).html(e)}),e.fail(function(){s.hideLoading(),s.$panes.eq(t).html("failed")}))},showLoading:function(){this.$loading.appendTo(this.$panes_wrap)},hideLoading:function(){this.$loading.remove()},getTabs:function(){return this.$tabs},getPanes_wrap:function(){return this.$panes},getCurrentPane:function(){return this.$panes.eq(this.current)},getCurrentTab:function(){return this.$tabs.eq(this.current)},getIndex:function(){return this.current},getSize:function(){return this.size},append:function(t,e){this.add(t,e,this.size)},add:function(t,e,n){this.$tabs.eq(n-1).after(this.$tabs.eq(0).clone().removeClass(this.classes.activeTab).html(t)),this.$panes.eq(n-1).after(this.$panes.eq(0).clone().removeClass(this.classes.activePane).html(e)),this.$tabs=this.$element.children(),this.$panes=this.$panes_wrap.children(),this.size++},enable:function(){},disable:function(){},next:function(){var t=this.$tabs.length,e=this.current;t-1>e?e++:e=0,this.active(e)},prev:function(){var t=this.$tabs.length,e=this.current;0===e?e=Math.abs(1-t):e-=1,this.active(e)},destroy:function(){}},n.fn.tabs=function(t){if("string"!=typeof t)return this.each(function(){n.data(this,"tabs")||n.data(this,"tabs",new i(this,t))});var e=t,a=arguments.length>1?Array.prototype.slice.call(arguments,1):s;if(!/^(getTabs|getPanes_wrap|getCurrentPane|getCurrentTab|getIndex)$/.test(e))return this.each(function(){var t=n.data(this,"tabs");t&&"function"==typeof t[e]&&t[e].apply(t,a)});var r=this.first().data("tabs");return r&&"function"==typeof r[e]?r[e].apply(r,a):s}})(window,document,jQuery);